# 日志

## redo log(重做日志)

### 什么是 redo log

redo log 是InnoDB引擎特有的日志。

在InnoDB中有 `buffer pool`，它是数据库页面的缓存。对InnoDB的任何修改都会现在 `buffer pool` 的 `page` 上执行，然后这样的 `page` 被标记为dirty并放入 `flush list` 上，并且由后续的 master thread 或者专门刷脏数据的线程阶段性的将这些页面写入磁盘。这样的好处是避免了每次数据操作都去操作磁盘导致产生大量的随机IO。阶段性刷脏操作可以把对页面的多次操作merge成一次IO操作，同时异步写入也降低了访问的时间延迟。但是，如果在 `dirty page` 未被写入磁盘之前，`MySQL Server` 由于异常而非正常关闭，那么这些操作将会丢失。如果此时写入操作正在进行，还会由于数据文件损坏而导致数据库不可用。为了防止上述情况的发生，InnoDB将所有对页面的修改操作写入一个专门的文件，并在数据库启动时对此文件进行恢复操作，这个文件就是 `redo log`。使用 `redo log` 推迟了 `buffer pool` 页面的更新，增加了数据库的吞吐，有效降低了访问的延迟。带来的是额外的写 `redo log` 操作的开销(顺序IO，开销很小)，已经数据库启动时恢复操作所需要的时间。

### redo log 做了什么事情

### 为什么需要 redo log


## binlog(归档日志)