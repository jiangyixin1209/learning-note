# 创建容器

## 新建容器

``` shell
docker create

# 例如
docker create -it ubuntu
```

使用docker create命令创建的容器处于停止状态，可以使用docker start启动。

## 新建容器并启动容器

``` shell
docker run

# 例如
docker run ubuntu /bin/echo 'Hello Docker'
```

此命令等价于docker create + docker start

**docker run背后的执行顺序**

* 检查本地是否存在指定的镜像，不存在就从共有仓库中下载。
* 利用本地镜像创建并启动一个容器
* 分配一个文件系统，并在只读的镜像层外面挂载一层读写层。
* 从宿主机配置的网桥接口桥接一个虚拟接口到容器中去。
* 从地址池配置一个IP地址给容器。
* 执行用户的指定的用户程序。
* 执行完毕后容器被终止。

# 终止容器

``` shell
docker stop <container_id>
```

注意:  
当容器中的应用终结时，容器也会自动停止。  
查看终止的容器: docker ps -a  
查看运行的容器: docker ps  
重新启动容器: docker start <container_id>

# 进入容器

``` shell
docker exec <option> <container_id> <command>

# 例如
docker exec -it <container_id> bash
```

Exec可以直接在容器内部运行命令

# 删除容器

``` shell
# 删除终止状态的命令
docker rm <container_id>

# 删除正在运行的命令
docker rm -f <container_id>
```

# 导入和导出容器

## 导出容器

``` shell
docker export <container_id>

# 例如
docker export <container_id> > text.tar
```

## 导入容器

``` shell
docker import

# 例如
cat test.tar | docker import - jiangyx/test:latest
```