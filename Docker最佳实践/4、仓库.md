# Docker Hub

Docker Hub是目前Docker官方仓库维护了一个公共仓库[https://hub.docker.com](https://hub.docker.com)，其中已经包括15000多个的镜像。
大部分需求都可以通过在Docker Hub中直接下来镜像来实现。

## 登录

可以通过执行docker login命令来输入用户名、密码和邮箱来完成注册登录。

## 基本操作

用户无需登录可以通过 docker search命令来查找官方仓库中的镜像，并利用docker pull 下载到本地，可以通过docker push 命令将本地镜像推送到docker hub。

# 创建和使用仓库

可以通过docker官方提供的registry镜像来搭建一套本地私有仓库。

镜像地址：[https://hub.docker.com/_/registry/](https://hub.docker.com/_/registry/)

``` shell
docker run -e SEARCH_BACKEND=sqlalchemy
-e SQLALCHEMY_INDEX_DATABASE=sqlite:////tmp/docker-registry.db
-d --name registry -p 5000:5000 registry
```

参考地址：  
https://github.com/docker/docker-registry#search-engine-options
https://hub.docker.com/_/registry/  
自动下载并启动一个registry容器，创建本地的私有仓库服务。  
默认仓库创建在/tmp/registry目录下。

docker默认只能推送镜像到信任的仓库中，因此需要修改docker的启动项

docker启动参数配置：  
环境：centos7  
配置文件：/lib/systemd/system/docker.service  
参考地址：https://docs.docker.com/engine/admin/configuring/

# 仓库加速服务

使用daocloud进行镜像的加速

详情为[https://www.daocloud.io/mirror#accelerator-doc](https://www.daocloud.io/mirror#accelerator-doc)

# 仓库管理

Registry Web UI: 用于镜像的查询，删除。   
镜像地址：[https://hub.docker.com/r/atcol/docker-registry-ui/](https://hub.docker.com/r/atcol/docker-registry-ui/)

启动命令：

``` shell
docker run -d --name registry_ui -p 8080:8080
-e REG1=http://<registry_ip>:5000/v1/ atcol/docker-registry-ui
```

访问地址：

http://<host_ip>:8080